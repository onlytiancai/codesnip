详细展开步骤：

1. **初始表达式**：根据向量2-范数平方的定义
   $$
f(\beta) = \|y - X\beta\|_2^2 = (y - X\beta)^\top (y - X\beta)
   $$

2. **应用矩阵转置分配律**：
   $$
   (y - X\beta)^\top = y^\top - (X\beta)^\top = y^\top - \beta^\top X^\top
   $$
   （因为 $(AB)^\top = B^\top A^\top$，这里 $A=X, B=\beta$）

3. **展开矩阵乘法**：
   $$
   (y^\top - \beta^\top X^\top)(y - X\beta)
   = y^\top y - y^\top (X\beta) - (\beta^\top X^\top) y + (\beta^\top X^\top)(X\beta)
   $$

4. **利用标量对称性简化交叉项**：
   - $y^\top (X\beta)$ 是一个标量（1×n矩阵 × n×p矩阵 × p×1向量 = 1×1标量）
   - 标量的转置等于其自身：$(y^\top X\beta)^\top = \beta^\top X^\top y = y^\top X\beta$
   - 因此交叉项为：$-y^\top X\beta - \beta^\top X^\top y = -2\beta^\top X^\top y$

5. **简化最后一项**：
   $$
   (\beta^\top X^\top)(X\beta) = \beta^\top (X^\top X) \beta
   $$

6. **合并所有项**：
   $$
   f(\beta) = y^\top y - 2\beta^\top X^\top y + \beta^\top X^\top X \beta
   $$

核心数学原理：

- **矩阵转置性质**：$(AB)^\top = B^\top A^\top$
- **标量对称性**：对于向量内积 $a^\top b = b^\top a$
- **矩阵乘法结合律**：$(AB)C = A(BC)$
