当 $X^\top X$ 可逆时可以直接求出 $\hat{\beta}$，原因可以从以下几个方面理解：

### 1. 问题的核心：正规方程

在最小二乘法中，我们通过求导得到了**正规方程**：
$$
X^\top X \beta = X^\top y
$$
这是一个线性方程组，形式为 $A\beta = b$，其中 $A = X^\top X$，$b = X^\top y$。

### 2. 线性方程组的求解原理

对于线性方程组 $A\beta = b$：
- **当 $A$ 可逆时**：方程有且仅有唯一解，解可直接表示为 $\beta = A^{-1}b$
- **当 $A$ 不可逆时**：方程可能无解或有无穷多解，无法用逆矩阵直接求解   

### 3. $X^\top X$ 可逆的条件和意义

$X^\top X$ 可逆等价于 **设计矩阵 $X$ 列满秩**（即 $X$ 的列向量线性无关）。此时：
- $rank(X^\top X) = rank(X) = p$（$p$ 为参数个数）
- $X^\top X$ 是满秩方阵，因此可逆

### 4. 直接求解的本质

当 $X^\top X$ 可逆时，我们可以直接对正规方程两边左乘 $(X^\top X)^{-1}$，得到唯一的最小二乘解：
$$
\hat{\beta} = (X^\top X)^{-1}X^\top y
$$

这种情况对应着模型中**没有多重共线性**，即特征变量之间线性无关，我们有足够的独立信息来唯一确定所有模型参数。

如果 $X^\top X$ 不可逆（存在多重共线性），则需要使用岭回归、主成分回归等方法来处理。
